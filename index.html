<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FileVault - Penyimpanan File Online</title>
    <style>
        :root {
            --bg-primary: #121212;
            --bg-secondary: #1e1e1e;
            --bg-tertiary: #2d2d2d;
            --text-primary: #ffffff;
            --text-secondary: #b3b3b3;
            --accent: #8c52ff;
            --accent-hover: #7041e6;
            --error: #ff5252;
            --success: #4caf50;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: var(--bg-primary);
            color: var(--text-primary);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }
        
        header {
            background-color: var(--bg-secondary);
            padding: 1rem 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--accent);
        }
        
        .nav-links {
            display: flex;
            gap: 1.5rem;
        }
        
        .nav-links button {
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1rem;
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        .nav-links button:hover {
            background-color: var(--bg-tertiary);
        }
        
        main {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }
        
        .form-container {
            background-color: var(--bg-secondary);
            border-radius: 8px;
            padding: 2rem;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .form-title {
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 1.2rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }
        
        .form-control {
            width: 100%;
            padding: 0.8rem;
            border-radius: 4px;
            border: 1px solid var(--bg-tertiary);
            background-color: var(--bg-tertiary);
            color: var(--text-primary);
            font-size: 1rem;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--accent);
        }
        
        .btn {
            width: 100%;
            padding: 0.8rem;
            border: none;
            border-radius: 4px;
            background-color: var(--accent);
            color: white;
            font-size: 1rem;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .btn:hover {
            background-color: var(--accent-hover);
        }
        
        .form-footer {
            margin-top: 1.5rem;
            text-align: center;
            color: var(--text-secondary);
        }
        
        .form-footer a {
            color: var(--accent);
            text-decoration: none;
        }
        
        .form-footer a:hover {
            text-decoration: underline;
        }
        
        .dashboard {
            display: none;
            width: 100%;
            max-width: 900px;
            background-color: var(--bg-secondary);
            border-radius: 8px;
            padding: 2rem;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }
        
        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .dashboard-title {
            font-size: 1.5rem;
        }
        
        .upload-section {
            background-color: var(--bg-tertiary);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .upload-area {
            border: 2px dashed var(--text-secondary);
            border-radius: 6px;
            padding: 2rem;
            text-align: center;
            margin-bottom: 1rem;
            cursor: pointer;
            transition: border-color 0.3s;
        }
        
        .upload-area:hover {
            border-color: var(--accent);
        }
        
        .upload-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }
        
        .upload-text {
            margin-bottom: 1rem;
            color: var(--text-secondary);
        }
        
        .file-types {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .files-section {
            background-color: var(--bg-tertiary);
            border-radius: 8px;
            padding: 1.5rem;
        }
        
        .files-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .files-title {
            font-size: 1.2rem;
        }
        
        .files-filter select {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            border: 1px solid var(--bg-tertiary);
            padding: 0.5rem;
            border-radius: 4px;
        }
        
        .files-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            grid-gap: 1rem;
        }
        
        .file-item {
            background-color: var(--bg-secondary);
            border-radius: 6px;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s, background-color 0.3s;
        }
        
        .file-item:hover {
            background-color: var(--bg-primary);
            transform: translateY(-5px);
        }
        
        .file-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            color: var(--accent);
        }
        
        .file-name {
            font-size: 0.9rem;
            margin-bottom: 0.3rem;
            word-break: break-all;
        }
        
        .file-size {
            font-size: 0.8rem;
            color: var(--text-secondary);
        }
        
        .message {
            padding: 0.8rem;
            margin-bottom: 1rem;
            border-radius: 4px;
            text-align: center;
        }
        
        .error {
            background-color: rgba(255, 82, 82, 0.2);
            color: var(--error);
        }
        
        .success {
            background-color: rgba(76, 175, 80, 0.2);
            color: var(--success);
        }
        
        footer {
            text-align: center;
            padding: 1.5rem;
            background-color: var(--bg-secondary);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        /* Responsiveness */
        @media (max-width: 768px) {
            .dashboard-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .files-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }
            
            .files-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo">FileVault</div>
        <div class="nav-links">
            <button id="loginBtn">Masuk</button>
            <button id="registerBtn">Daftar</button>
            <button id="logoutBtn" style="display: none;">Keluar</button>
        </div>
    </header>
    
    <main>
        <!-- Login Form -->
        <div class="form-container" id="loginForm">
            <h2 class="form-title">Masuk ke Akun</h2>
            <div id="loginMessage" class="message" style="display: none;"></div>
            <form id="loginFormElement">
                <div class="form-group">
                    <label for="loginUsername">Username</label>
                    <input type="text" id="loginUsername" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" class="form-control" required>
                </div>
                <button type="submit" class="btn">Masuk</button>
                <div class="form-footer">
                    Belum punya akun? <a href="#" id="goToRegister">Daftar sekarang</a>
                </div>
            </form>
        </div>
        
        <!-- Register Form -->
        <div class="form-container" id="registerForm" style="display: none;">
            <h2 class="form-title">Daftar Akun Baru</h2>
            <div id="registerMessage" class="message" style="display: none;"></div>
            <form id="registerFormElement">
                <div class="form-group">
                    <label for="registerUsername">Username</label>
                    <input type="text" id="registerUsername" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="registerPassword">Password</label>
                    <input type="password" id="registerPassword" class="form-control" required>
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Konfirmasi Password</label>
                    <input type="password" id="confirmPassword" class="form-control" required>
                </div>
                <button type="submit" class="btn">Daftar</button>
                <div class="form-footer">
                    Sudah punya akun? <a href="#" id="goToLogin">Masuk sekarang</a>
                </div>
            </form>
        </div>
        
        <!-- Dashboard -->
        <div class="dashboard" id="dashboard">
            <div class="dashboard-header">
                <h2 class="dashboard-title">Penyimpanan File Saya</h2>
                <div id="userInfo">Selamat datang, <span id="username"></span>!</div>
            </div>
            
            <div class="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">â†‘</div>
                    <h3>Upload File</h3>
                    <p class="upload-text">Klik atau drag & drop file disini</p>
                    <p class="file-types">Mendukung foto, video, dokumen, APK, dan berbagai format file lainnya</p>
                </div>
                <input type="file" id="fileInput" style="display: none;" multiple>
                <div id="uploadProgress" style="display: none;">
                    <div id="progressBar" style="height: 6px; background-color: var(--accent); width: 0%; margin-top: 10px; border-radius: 3px;"></div>
                    <p id="progressText" style="text-align: center; margin-top: 5px; font-size: 0.9rem; color: var(--text-secondary);"></p>
                </div>
            </div>
            
            <div class="files-section">
                <div class="files-header">
                    <h3 class="files-title">File Saya</h3>
                    <div class="files-filter">
                        <select id="fileFilter">
                            <option value="all">Semua File</option>
                            <option value="image">Gambar</option>
                            <option value="video">Video</option>
                            <option value="document">Dokumen</option>
                            <option value="application">APK & Aplikasi</option>
                            <option value="other">Lainnya</option>
                        </select>
                    </div>
                </div>
                
                <div class="files-grid" id="filesGrid">
                    <!-- Files will be displayed here -->
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        &copy; 2025 FileVault - Penyimpanan File Online. Semua hak dilindungi.
    </footer>
    
    <script>
        // DOM Elements
        const loginForm = document.getElementById('loginForm');
        const registerForm = document.getElementById('registerForm');
        const dashboard = document.getElementById('dashboard');
        const loginBtn = document.getElementById('loginBtn');
        const registerBtn = document.getElementById('registerBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const goToRegister = document.getElementById('goToRegister');
        const goToLogin = document.getElementById('goToLogin');
        const loginFormElement = document.getElementById('loginFormElement');
        const registerFormElement = document.getElementById('registerFormElement');
        const loginMessage = document.getElementById('loginMessage');
        const registerMessage = document.getElementById('registerMessage');
        const usernameSpan = document.getElementById('username');
        const uploadArea = document.getElementById('uploadArea');
        const fileInput = document.getElementById('fileInput');
        const uploadProgress = document.getElementById('uploadProgress');
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        const fileFilter = document.getElementById('fileFilter');
        const filesGrid = document.getElementById('filesGrid');
        
        // Mock database
        let users = JSON.parse(localStorage.getItem('users')) || [];
        let files = JSON.parse(localStorage.getItem('files')) || [];
        let currentUser = null;
        
        // Check if user is logged in
        function checkAuth() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showDashboard();
            }
        }
        
        // Show dashboard
        function showDashboard() {
            loginForm.style.display = 'none';
            registerForm.style.display = 'none';
            dashboard.style.display = 'block';
            loginBtn.style.display = 'none';
            registerBtn.style.display = 'none';
            logoutBtn.style.display = 'block';
            usernameSpan.textContent = currentUser.username;
            displayFiles();
        }
        
        // Show login form
        function showLogin() {
            loginForm.style.display = 'block';
            registerForm.style.display = 'none';
            dashboard.style.display = 'none';
            loginBtn.style.display = 'block';
            registerBtn.style.display = 'block';
            logoutBtn.style.display = 'none';
        }
        
        // Show register form
        function showRegister() {
            loginForm.style.display = 'none';
            registerForm.style.display = 'block';
            dashboard.style.display = 'none';
            loginBtn.style.display = 'block';
            registerBtn.style.display = 'block';
            logoutBtn.style.display = 'none';
        }
        
        // Login handler
        loginFormElement.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('loginUsername').value;
            const password = document.getElementById('loginPassword').value;
            
            const user = users.find(u => u.username === username && u.password === password);
            
            if (user) {
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                showDashboard();
                loginFormElement.reset();
                showMessage(loginMessage, 'Login berhasil!', 'success');
            } else {
                showMessage(loginMessage, 'Username atau password salah!', 'error');
            }
        });
        
        // Register handler
        registerFormElement.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('registerUsername').value;
            const password = document.getElementById('registerPassword').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            
            if (password !== confirmPassword) {
                showMessage(registerMessage, 'Password tidak cocok!', 'error');
                return;
            }
            
            if (users.some(u => u.username === username)) {
                showMessage(registerMessage, 'Username sudah digunakan!', 'error');
                return;
            }
            
            const newUser = {
                id: Date.now(),
                username,
                password
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            currentUser = newUser;
            localStorage.setItem('currentUser', JSON.stringify(newUser));
            
            showDashboard();
            registerFormElement.reset();
            showMessage(registerMessage, 'Pendaftaran berhasil!', 'success');
        });
        
        // Logout handler
        logoutBtn.addEventListener('click', function() {
            currentUser = null;
            localStorage.removeItem('currentUser');
            showLogin();
        });
        
        // Navigation handlers
        goToRegister.addEventListener('click', function(e) {
            e.preventDefault();
            showRegister();
        });
        
        goToLogin.addEventListener('click', function(e) {
            e.preventDefault();
            showLogin();
        });
        
        loginBtn.addEventListener('click', showLogin);
        registerBtn.addEventListener('click', showRegister);
        
        // Show message
        function showMessage(element, message, type) {
            element.textContent = message;
            element.className = `message ${type}`;
            element.style.display = 'block';
            
            setTimeout(() => {
                element.style.display = 'none';
            }, 3000);
        }
        
        // Upload file handling
        uploadArea.addEventListener('click', function() {
            fileInput.click();
        });
        
        uploadArea.addEventListener('dragover', function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = 'var(--accent)';
        });
        
        uploadArea.addEventListener('dragleave', function() {
            uploadArea.style.borderColor = 'var(--text-secondary)';
        });
        
        uploadArea.addEventListener('drop', function(e) {
            e.preventDefault();
            uploadArea.style.borderColor = 'var(--text-secondary)';
            
            if (e.dataTransfer.files.length > 0) {
                handleFiles(e.dataTransfer.files);
            }
        });
        
        fileInput.addEventListener('change', function() {
            if (fileInput.files.length > 0) {
                handleFiles(fileInput.files);
            }
        });
        
        // Handle file uploads
        function handleFiles(filesList) {
            uploadProgress.style.display = 'block';
            
            let progress = 0;
            const totalFiles = filesList.length;
            
            Array.from(filesList).forEach((file, index) => {
                // Simulate file upload with progress
                const timer = setInterval(() => {
                    progress += Math.random() * 2;
                    
                    if (progress >= 100) {
                        clearInterval(timer);
                        
                        // Save file info (in a real app, you'd upload to a server)
                        const fileInfo = {
                            id: Date.now() + index,
                            name: file.name,
                            size: formatFileSize(file.size),
                            type: file.type.split('/')[0],
                            uploadDate: new Date().toISOString(),
                            userId: currentUser.id
                        };
                        
                        files.push(fileInfo);
                        localStorage.setItem('files', JSON.stringify(files));
                        
                        if (index === totalFiles - 1) {
                            progressText.textContent = 'Upload selesai!';
                            
                            setTimeout(() => {
                                uploadProgress.style.display = 'none';
                                progressBar.style.width = '0%';
                                fileInput.value = '';
                                displayFiles();
                            }, 1000);
                        }
                    } else {
                        const percentage = Math.min(100, progress);
                        progressBar.style.width = `${percentage}%`;
                        progressText.textContent = `Mengupload ${index + 1}/${totalFiles} - ${Math.round(percentage)}%`;
                    }
                }, 100);
            });
        }
        
        // Format file size
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            
            const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(1024));
            
            return parseFloat((bytes / Math.pow(1024, i)).toFixed(2)) + ' ' + sizes[i];
        }
        
        // Get file icon based on type
        function getFileIcon(type) {
            switch (type) {
                case 'image':
                    return 'ðŸ–¼ï¸';
                case 'video':
                    return 'ðŸŽ¬';
                case 'audio':
                    return 'ðŸŽµ';
                case 'application':
                    return 'ðŸ“±';
                case 'text':
                    return 'ðŸ“„';
                default:
                    return 'ðŸ“';
            }
        }
        
        // Display files
        function displayFiles() {
            const filterValue = fileFilter.value;
            let userFiles = files.filter(file => file.userId === currentUser.id);
            
            if (filterValue !== 'all') {
                userFiles = userFiles.filter(file => file.type === filterValue);
            }
            
            filesGrid.innerHTML = '';
            
            if (userFiles.length === 0) {
                filesGrid.innerHTML = '<p style="grid-column: 1/-1; text-align: center; padding: 2rem 0; color: var(--text-secondary);">Belum ada file yang diupload</p>';
                return;
            }
            
            userFiles.forEach(file => {
                const fileElement = document.createElement('div');
                fileElement.className = 'file-item';
                fileElement.innerHTML = `
                    <div class="file-icon">${getFileIcon(file.type)}</div>
                    <div class="file-name">${file.name}</div>
                    <div class="file-size">${file.size}</div>
                `;
                
                fileElement.addEventListener('click', () => {
                    // In a real app, this would open the file or show a download/preview option
                    alert(`File dipilih: ${file.name}`);
                });
                
                filesGrid.appendChild(fileElement);
            });
        }
        
        // Filter files
        fileFilter.addEventListener('change', displayFiles);
        
        // Initial check
        checkAuth();
    </script>
</body>
</html>