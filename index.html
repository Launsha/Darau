<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LinkCryption - Pemendek Tautan Futuristik</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700&family=Roboto:wght@300;400;500&display=swap');
        
        :root {
            --primary: #00f7ff;
            --secondary: #ff00e4;
            --dark: #0a0a1a;
            --darker: #050510;
        }
        
        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--darker);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .futuristic-font {
            font-family: 'Orbitron', sans-serif;
        }
        
        .neon-text {
            text-shadow: 0 0 5px var(--primary), 0 0 10px var(--primary), 0 0 20px var(--primary);
        }
        
        .neon-box {
            box-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary), inset 0 0 10px var(--primary);
            border: 1px solid var(--primary);
        }
        
        .neon-box-secondary {
            box-shadow: 0 0 10px var(--secondary), 0 0 20px var(--secondary), inset 0 0 10px var(--secondary);
            border: 1px solid var(--secondary);
        }
        
        .glow-on-hover {
            transition: all 0.3s ease;
        }
        
        .glow-on-hover:hover {
            box-shadow: 0 0 15px var(--primary), 0 0 30px var(--primary);
            transform: translateY(-2px);
        }
        
        .input-field {
            background-color: rgba(10, 10, 26, 0.7);
            border: 1px solid var(--primary);
            color: white;
            transition: all 0.3s ease;
        }
        
        .input-field:focus {
            box-shadow: 0 0 10px var(--primary), 0 0 20px var(--primary);
            border-color: var(--primary);
            outline: none;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 15px var(--primary), 0 0 15px var(--secondary);
        }
        
        .btn-secondary {
            background: rgba(0, 247, 255, 0.1);
            border: 1px solid var(--primary);
            color: var(--primary);
            transition: all 0.3s ease;
        }
        
        .btn-secondary:hover {
            background: rgba(0, 247, 255, 0.3);
            box-shadow: 0 0 10px var(--primary);
        }
        
        .link-item {
            background: rgba(10, 10, 26, 0.7);
            border: 1px solid rgba(0, 247, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .link-item:hover {
            border-color: var(--primary);
            box-shadow: 0 0 10px rgba(0, 247, 255, 0.3);
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(0, 247, 255, 0.7);
            }
            70% {
                box-shadow: 0 0 0 10px rgba(0, 247, 255, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(0, 247, 255, 0);
            }
        }
        
        .slide-in {
            animation: slideIn 0.5s forwards;
        }
        
        @keyframes slideIn {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                padding-left: 1rem;
                padding-right: 1rem;
            }
            
            .header-text {
                font-size: 1.5rem;
            }
            
            .input-group {
                flex-direction: column;
            }
            
            .input-field {
                width: 100%;
                margin-bottom: 1rem;
            }
            
            .btn-primary {
                width: 100%;
            }
        }
    </style>
</head>
<body class="min-h-screen flex flex-col">
    <!-- Header Section -->
    <header class="py-6 px-4 sm:px-6 lg:px-8">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <i class="fas fa-link text-2xl text-cyan-400 neon-text"></i>
                <h1 class="text-2xl sm:text-3xl font-bold futuristic-font neon-text">
                    <span class="text-cyan-400">Link</span><span class="text-pink-500">Cryption</span>
                </h1>
            </div>
            <div class="flex items-center space-x-4">
                <button id="theme-toggle" class="text-cyan-400 hover:text-pink-500 transition-colors">
                    <i class="fas fa-moon text-xl"></i>
                </button>
                <button id="info-btn" class="text-cyan-400 hover:text-pink-500 transition-colors">
                    <i class="fas fa-info-circle text-xl"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Hero Section -->
        <section class="text-center mb-12 fade-in">
            <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 futuristic-font">
                <span class="text-cyan-400">Pendekkan</span> <span class="text-pink-500">Tautan</span> Anda
            </h2>
            <p class="text-lg sm:text-xl text-gray-300 max-w-2xl mx-auto">
                Ubah tautan panjang Anda menjadi pendek dan mudah dibagikan dengan teknologi enkripsi futuristik kami.
            </p>
        </section>

        <!-- URL Shortener Form -->
        <section class="max-w-4xl mx-auto mb-12">
            <div class="bg-gradient-to-br from-cyan-900/20 to-pink-900/20 rounded-xl p-6 neon-box glow-on-hover">
                <div class="flex flex-col sm:flex-row gap-4 mb-4">
                    <input 
                        type="url" 
                        id="long-url" 
                        placeholder="Masukkan tautan panjang Anda di sini..." 
                        class="flex-grow px-4 py-3 rounded-lg input-field focus:outline-none focus:ring-2 focus:ring-cyan-400"
                        required
                    >
                    <button 
                        id="shorten-btn" 
                        class="px-6 py-3 rounded-lg futuristic-font btn-primary flex items-center justify-center"
                    >
                        <i class="fas fa-compress-alt mr-2"></i> Pendekkan
                    </button>
                </div>
                <div id="result-container" class="hidden slide-in">
                    <div class="flex flex-col sm:flex-row gap-4 items-center">
                        <input 
                            type="text" 
                            id="short-url" 
                            readonly 
                            class="flex-grow px-4 py-3 rounded-lg input-field bg-gray-900/50"
                        >
                        <button 
                            id="copy-btn" 
                            class="px-6 py-3 rounded-lg futuristic-font btn-secondary flex items-center justify-center"
                        >
                            <i class="far fa-copy mr-2"></i> Salin
                        </button>
                    </div>
                    <div id="success-message" class="mt-3 text-green-400 text-sm hidden">
                        <i class="fas fa-check-circle mr-1"></i> Tautan berhasil disalin ke clipboard!
                    </div>
                </div>
            </div>
        </section>

        <!-- Saved Links Section -->
        <section class="max-w-4xl mx-auto">
            <div class="flex justify-between items-center mb-6">
                <h3 class="text-xl sm:text-2xl font-bold futuristic-font text-cyan-400">
                    <i class="fas fa-history mr-2"></i> Tautan Anda
                </h3>
                <button 
                    id="clear-all-btn" 
                    class="px-4 py-2 rounded-lg text-sm futuristic-font btn-secondary"
                >
                    <i class="fas fa-trash-alt mr-1"></i> Hapus Semua
                </button>
            </div>
            
            <div id="links-container" class="space-y-4">
                <!-- Links will be added here dynamically -->
                <div class="text-center py-8 text-gray-500" id="empty-message">
                    <i class="fas fa-link text-4xl mb-2"></i>
                    <p>Belum ada tautan yang dipendekkan. Mulailah dengan memasukkan URL di atas!</p>
                </div>
            </div>
        </section>
    </main>

    <!-- Info Modal -->
    <div id="info-modal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 hidden">
        <div class="bg-gray-900 rounded-xl max-w-md w-full mx-4 p-6 neon-box-secondary relative">
            <button id="close-modal" class="absolute top-4 right-4 text-gray-400 hover:text-cyan-400">
                <i class="fas fa-times text-xl"></i>
            </button>
            <h3 class="text-xl font-bold futuristic-font text-cyan-400 mb-4">
                <i class="fas fa-info-circle mr-2"></i> Tentang LinkCryption
            </h3>
            <div class="space-y-4 text-gray-300">
                <p>
                    LinkCryption adalah alat pemendek tautan futuristik yang bekerja sepenuhnya di browser Anda. 
                    Tidak ada data yang dikirim ke server eksternal.
                </p>
                <p>
                    Semua tautan pendek disimpan di penyimpanan lokal perangkat Anda dan hanya dapat diakses oleh Anda.
                </p>
                <p class="text-sm text-gray-400">
                    <i class="fas fa-exclamation-triangle mr-1"></i> Catatan: Tautan pendek hanya akan bekerja di perangkat ini karena tidak menggunakan backend.
                </p>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-6 px-4 sm:px-6 lg:px-8 text-center text-gray-400 text-sm">
        <div class="container mx-auto">
            <p>&copy; 2023 LinkCryption. Dibuat dengan <i class="fas fa-heart text-pink-500"></i> untuk kemudahan berbagi tautan.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const longUrlInput = document.getElementById('long-url');
            const shortenBtn = document.getElementById('shorten-btn');
            const resultContainer = document.getElementById('result-container');
            const shortUrlInput = document.getElementById('short-url');
            const copyBtn = document.getElementById('copy-btn');
            const successMessage = document.getElementById('success-message');
            const linksContainer = document.getElementById('links-container');
            const emptyMessage = document.getElementById('empty-message');
            const clearAllBtn = document.getElementById('clear-all-btn');
            const themeToggle = document.getElementById('theme-toggle');
            const infoBtn = document.getElementById('info-btn');
            const infoModal = document.getElementById('info-modal');
            const closeModal = document.getElementById('close-modal');
            
            // Load saved links from localStorage
            let savedLinks = JSON.parse(localStorage.getItem('shortenedLinks')) || [];
            
            // Display saved links
            function displaySavedLinks() {
                if (savedLinks.length === 0) {
                    emptyMessage.classList.remove('hidden');
                    linksContainer.innerHTML = '';
                    linksContainer.appendChild(emptyMessage);
                    return;
                }
                
                emptyMessage.classList.add('hidden');
                linksContainer.innerHTML = '';
                
                savedLinks.reverse().forEach((link, index) => {
                    const linkItem = document.createElement('div');
                    linkItem.className = 'link-item rounded-lg p-4 fade-in';
                    linkItem.style.animationDelay = `${index * 0.1}s`;
                    
                    linkItem.innerHTML = `
                        <div class="flex flex-col sm:flex-row sm:items-center justify-between gap-4">
                            <div class="flex-grow">
                                <div class="text-sm text-gray-400 mb-1 truncate">
                                    <i class="fas fa-link mr-1"></i> ${link.longUrl}
                                </div>
                                <div class="text-cyan-400 font-mono truncate">
                                    ${window.location.href.split('#')[0]}#${link.shortCode}
                                </div>
                            </div>
                            <div class="flex space-x-2">
                                <button class="copy-link-btn px-3 py-2 rounded-lg btn-secondary text-xs sm:text-sm" data-url="${window.location.href.split('#')[0]}#${link.shortCode}">
                                    <i class="far fa-copy mr-1"></i> Salin
                                </button>
                                <button class="open-link-btn px-3 py-2 rounded-lg btn-secondary text-xs sm:text-sm" data-url="${link.longUrl}">
                                    <i class="fas fa-external-link-alt mr-1"></i> Buka
                                </button>
                                <button class="delete-link-btn px-3 py-2 rounded-lg bg-red-900/30 text-red-400 border border-red-400/30 text-xs sm:text-sm" data-id="${link.id}">
                                    <i class="fas fa-trash-alt mr-1"></i> Hapus
                                </button>
                            </div>
                        </div>
                    `;
                    
                    linksContainer.appendChild(linkItem);
                });
            }
            
            // Initialize the page
            displaySavedLinks();
            
            // Check if there's a hash in the URL
            if (window.location.hash) {
                const shortCode = window.location.hash.substring(1);
                const originalLink = savedLinks.find(link => link.shortCode === shortCode);
                
                if (originalLink) {
                    // Show a notification that the link is being opened
                    const notification = document.createElement('div');
                    notification.className = 'fixed bottom-4 right-4 bg-gray-800 text-cyan-400 px-4 py-3 rounded-lg shadow-lg flex items-center slide-in';
                    notification.innerHTML = `
                        <i class="fas fa-external-link-alt mr-2"></i>
                        <span>Membuka tautan: ${originalLink.longUrl}</span>
                    `;
                    document.body.appendChild(notification);
                    
                    // Remove the notification after 3 seconds
                    setTimeout(() => {
                        notification.classList.remove('slide-in');
                        notification.classList.add('slide-out');
                        setTimeout(() => notification.remove(), 500);
                    }, 3000);
                    
                    // Open the original link
                    setTimeout(() => {
                        window.open(originalLink.longUrl, '_blank');
                    }, 1000);
                }
            }
            
            // Shorten URL
            shortenBtn.addEventListener('click', function() {
                const longUrl = longUrlInput.value.trim();
                
                if (!longUrl) {
                    longUrlInput.focus();
                    return;
                }
                
                // Validate URL
                try {
                    new URL(longUrl);
                } catch (e) {
                    showError('URL tidak valid. Pastikan URL dimulai dengan http:// atau https://');
                    return;
                }
                
                // Generate short code
                const shortCode = generateShortCode();
                const linkId = Date.now().toString();
                
                // Create link object
                const newLink = {
                    id: linkId,
                    longUrl: longUrl,
                    shortCode: shortCode,
                    createdAt: new Date().toISOString()
                };
                
                // Add to saved links
                savedLinks.push(newLink);
                localStorage.setItem('shortenedLinks', JSON.stringify(savedLinks));
                
                // Display the short URL
                const shortUrl = `${window.location.href.split('#')[0]}#${shortCode}`;
                shortUrlInput.value = shortUrl;
                resultContainer.classList.remove('hidden');
                successMessage.classList.add('hidden');
                
                // Scroll to result
                resultContainer.scrollIntoView({ behavior: 'smooth' });
                
                // Clear input
                longUrlInput.value = '';
                
                // Update displayed links
                displaySavedLinks();
                
                // Add pulse effect to the new link
                setTimeout(() => {
                    const newLinkElement = linksContainer.firstChild;
                    if (newLinkElement) {
                        newLinkElement.classList.add('pulse');
                        setTimeout(() => newLinkElement.classList.remove('pulse'), 2000);
                    }
                }, 300);
            });
            
            // Copy short URL
            copyBtn.addEventListener('click', function() {
                shortUrlInput.select();
                document.execCommand('copy');
                
                // Show success message
                successMessage.classList.remove('hidden');
                setTimeout(() => {
                    successMessage.classList.add('hidden');
                }, 3000);
                
                // Add visual feedback
                copyBtn.innerHTML = '<i class="fas fa-check mr-2"></i> Tersalin!';
                copyBtn.classList.add('bg-green-500/10', 'border-green-400');
                copyBtn.classList.remove('btn-secondary');
                
                setTimeout(() => {
                    copyBtn.innerHTML = '<i class="far fa-copy mr-2"></i> Salin';
                    copyBtn.classList.remove('bg-green-500/10', 'border-green-400');
                    copyBtn.classList.add('btn-secondary');
                }, 2000);
            });
            
            // Event delegation for dynamic buttons
            linksContainer.addEventListener('click', function(e) {
                // Copy link button
                if (e.target.classList.contains('copy-link-btn') || e.target.closest('.copy-link-btn')) {
                    const button = e.target.classList.contains('copy-link-btn') ? e.target : e.target.closest('.copy-link-btn');
                    const url = button.getAttribute('data-url');
                    
                    navigator.clipboard.writeText(url).then(() => {
                        // Show feedback
                        const originalText = button.innerHTML;
                        button.innerHTML = '<i class="fas fa-check mr-1"></i> Tersalin!';
                        button.classList.add('bg-green-500/10', 'border-green-400');
                        button.classList.remove('btn-secondary');
                        
                        setTimeout(() => {
                            button.innerHTML = originalText;
                            button.classList.remove('bg-green-500/10', 'border-green-400');
                            button.classList.add('btn-secondary');
                        }, 2000);
                    });
                }
                
                // Open link button
                if (e.target.classList.contains('open-link-btn') || e.target.closest('.open-link-btn')) {
                    const button = e.target.classList.contains('open-link-btn') ? e.target : e.target.closest('.open-link-btn');
                    const url = button.getAttribute('data-url');
                    window.open(url, '_blank');
                }
                
                // Delete link button
                if (e.target.classList.contains('delete-link-btn') || e.target.closest('.delete-link-btn')) {
                    const button = e.target.classList.contains('delete-link-btn') ? e.target : e.target.closest('.delete-link-btn');
                    const id = button.getAttribute('data-id');
                    
                    // Remove from saved links
                    savedLinks = savedLinks.filter(link => link.id !== id);
                    localStorage.setItem('shortenedLinks', JSON.stringify(savedLinks));
                    
                    // Update display
                    displaySavedLinks();
                    
                    // Show notification
                    const notification = document.createElement('div');
                    notification.className = 'fixed bottom-4 right-4 bg-gray-800 text-cyan-400 px-4 py-3 rounded-lg shadow-lg flex items-center slide-in';
                    notification.innerHTML = `
                        <i class="fas fa-trash-alt mr-2"></i>
                        <span>Tautan berhasil dihapus!</span>
                    `;
                    document.body.appendChild(notification);
                    
                    // Remove the notification after 3 seconds
                    setTimeout(() => {
                        notification.classList.remove('slide-in');
                        notification.classList.add('slide-out');
                        setTimeout(() => notification.remove(), 500);
                    }, 3000);
                }
            });
            
            // Clear all links
            clearAllBtn.addEventListener('click', function() {
                if (savedLinks.length === 0) return;
                
                if (confirm('Apakah Anda yakin ingin menghapus semua tautan?')) {
                    savedLinks = [];
                    localStorage.setItem('shortenedLinks', JSON.stringify(savedLinks));
                    displaySavedLinks();
                    
                    // Show notification
                    const notification = document.createElement('div');
                    notification.className = 'fixed bottom-4 right-4 bg-gray-800 text-cyan-400 px-4 py-3 rounded-lg shadow-lg flex items-center slide-in';
                    notification.innerHTML = `
                        <i class="fas fa-trash-alt mr-2"></i>
                        <span>Semua tautan berhasil dihapus!</span>
                    `;
                    document.body.appendChild(notification);
                    
                    // Remove the notification after 3 seconds
                    setTimeout(() => {
                        notification.classList.remove('slide-in');
                        notification.classList.add('slide-out');
                        setTimeout(() => notification.remove(), 500);
                    }, 3000);
                }
            });
            
            // Theme toggle
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('light-mode');
                const icon = themeToggle.querySelector('i');
                
                if (document.body.classList.contains('light-mode')) {
                    icon.classList.remove('fa-moon');
                    icon.classList.add('fa-sun');
                    document.documentElement.style.setProperty('--dark', '#f0f0f0');
                    document.documentElement.style.setProperty('--darker', '#e0e0e0');
                } else {
                    icon.classList.remove('fa-sun');
                    icon.classList.add('fa-moon');
                    document.documentElement.style.setProperty('--dark', '#0a0a1a');
                    document.documentElement.style.setProperty('--darker', '#050510');
                }
            });
            
            // Info modal
            infoBtn.addEventListener('click', function() {
                infoModal.classList.remove('hidden');
            });
            
            closeModal.addEventListener('click', function() {
                infoModal.classList.add('hidden');
            });
            
            infoModal.addEventListener('click', function(e) {
                if (e.target === infoModal) {
                    infoModal.classList.add('hidden');
                }
            });
            
            // Helper functions
            function generateShortCode() {
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';
                let result = '';
                for (let i = 0; i < 6; i++) {
                    result += chars.charAt(Math.floor(Math.random() * chars.length));
                }
                return result;
            }
            
            function showError(message) {
                const errorElement = document.createElement('div');
                errorElement.className = 'fixed bottom-4 right-4 bg-red-900/50 text-red-400 px-4 py-3 rounded-lg shadow-lg flex items-center slide-in';
                errorElement.innerHTML = `
                    <i class="fas fa-exclamation-triangle mr-2"></i>
                    <span>${message}</span>
                `;
                document.body.appendChild(errorElement);
                
                // Remove the error after 5 seconds
                setTimeout(() => {
                    errorElement.classList.remove('slide-in');
                    errorElement.classList.add('slide-out');
                    setTimeout(() => errorElement.remove(), 500);
                }, 5000);
            }
        });
    </script>
</body>
</html>